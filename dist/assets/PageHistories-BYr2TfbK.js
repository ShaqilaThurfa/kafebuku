import{r as o,j as e,a as i,A as n}from"./index-BYLWf00N.js";import{S as l}from"./sweetalert2.esm.all-CIewtpap.js";function x(){const[r,a]=o.useState([]),c=async()=>{try{const{data:t}=await i.get(`${n}/user/histories`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});console.log("Fetched histories:",t),a(Array.isArray(t)?t:[])}catch(t){l.fire({icon:"error",text:t.response?t.response.data.message:"Something went wrong!"})}};return o.useEffect(()=>{c()},[]),e.jsxs("div",{className:"container p-10 my-5 max-w-screen-lg bg-[#8B4513] rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-center mb-8 text-white text-lg font-bold",children:"My History"}),Array.isArray(r)&&r.length>0?e.jsxs("table",{className:"table table-striped mt-4 bg-[#F5F5DC]",children:[e.jsx("thead",{style:{backgroundColor:"#C7BBA2"},children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"#"}),e.jsx("th",{scope:"col",children:"Title"}),e.jsx("th",{scope:"col",children:"Borrowed at"}),e.jsx("th",{scope:"col",children:"Returned at"})]})}),e.jsx("tbody",{children:r.map((t,s)=>e.jsxs("tr",{style:{backgroundColor:s%2===0?"#FAEBD7":"#F5F5DC"},children:[e.jsx("th",{scope:"row",children:s+1}),e.jsx("td",{children:t.title}),e.jsx("td",{children:new Date(t.borrowed_at).toLocaleDateString("id-ID")}),e.jsx("td",{children:t.returned_at?new Date(t.returned_at).toLocaleDateString("id-ID"):e.jsx("span",{className:"text-red-500 font-semibold",children:"Not yet returned"})})]},t.id))})]}):e.jsx("div",{className:"text-center text-white",children:e.jsx("p",{children:"No histories found"})})]})}export{x as default};
