import{r as l,u as n,j as e,a as c,A as i}from"./index-BYLWf00N.js";import{S as x}from"./sweetalert2.esm.all-CIewtpap.js";function m(){const[a,d]=l.useState([]),s=n();return l.useEffect(()=>{(async()=>{try{const{data:r}=await c.get(`${i}/admin/all-histories`,{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}});d(r),console.log(r)}catch(r){x.fire({icon:"error",text:r.response?r.response.data.message:"Something went wrong!"}),s("/")}})()},[s]),e.jsxs("div",{className:"container mx-auto px-4 mt-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-center mb-6",children:"All Histories"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full border-collapse border border-gray-200 shadow-lg",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-100",children:[e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"#"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Title"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"User"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Borrowed At"}),e.jsx("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"Returned At"})]})}),e.jsx("tbody",{children:a.length>0?a.map((t,r)=>{var o;return e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200",children:[e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:r+1}),e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:t.title}),e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:((o=t.user)==null?void 0:o.fullName)||"Unknown User"}),e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:t.borrowed_at?new Date(t.borrowed_at).toLocaleDateString("idn-ID"):"-"}),e.jsx("td",{className:"border border-gray-200 px-4 py-2",children:t.returned_at?new Date(t.returned_at).toLocaleDateString("idn-ID"):e.jsx("span",{className:"text-red-500 font-semibold",children:"Not yet returned"})})]},r)}):e.jsx("tr",{children:e.jsx("td",{colSpan:"5",className:"text-center border border-gray-200 px-4 py-2",children:"No histories available."})})})]})})]})}export{m as default};
